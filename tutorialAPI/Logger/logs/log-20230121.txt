 2023-01-21 12:57:31.357 +01:00 [] Now listening on: https://localhost:7087
 2023-01-21 12:57:31.389 +01:00 [] Now listening on: http://localhost:5291
 2023-01-21 12:57:31.391 +01:00 [] Application started. Press Ctrl+C to shut down.
 2023-01-21 12:57:31.392 +01:00 [] Hosting environment: Development
 2023-01-21 12:57:31.392 +01:00 [] Content root path: C:\Users\DELL\OneDrive\Desktop\ApiProjects\Tutorial\tutorialAPI\tutorialAPI
 2023-01-21 12:57:33.711 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger - -
 2023-01-21 12:57:33.856 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger - - - 301 0 - 147.9853ms
 2023-01-21 12:57:33.885 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/index.html - -
 2023-01-21 12:57:34.216 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/index.html - - - 200 - text/html;charset=utf-8 331.0573ms
 2023-01-21 12:57:34.244 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/swagger-ui.css - -
 2023-01-21 12:57:34.249 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/swagger-ui-standalone-preset.js - -
 2023-01-21 12:57:34.249 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/swagger-ui-bundle.js - -
 2023-01-21 12:57:34.257 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/_framework/aspnetcore-browser-refresh.js - -
 2023-01-21 12:57:34.279 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 29.8225ms
 2023-01-21 12:57:34.309 +01:00 [] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
 2023-01-21 12:57:34.309 +01:00 [] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
 2023-01-21 12:57:34.310 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/swagger-ui.css - - - 200 143632 text/css 65.5978ms
 2023-01-21 12:57:34.310 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/swagger-ui-standalone-preset.js - - - 200 337162 text/javascript 61.4325ms
 2023-01-21 12:57:34.336 +01:00 [] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
 2023-01-21 12:57:34.337 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/swagger-ui-bundle.js - - - 200 1092889 text/javascript 87.8324ms
 2023-01-21 12:57:34.450 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/_vs/browserLink - -
 2023-01-21 12:57:34.611 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 160.8706ms
 2023-01-21 12:57:34.865 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/favicon-32x32.png - -
 2023-01-21 12:57:34.866 +01:00 [] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
 2023-01-21 12:57:34.866 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/favicon-32x32.png - - - 200 628 image/png 1.0454ms
 2023-01-21 12:57:34.949 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/v1/swagger.json - -
 2023-01-21 12:57:35.438 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 489.2277ms
 2023-01-21 12:59:40.432 +01:00 [] Request starting HTTP/1.1 PATCH https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A application/json 99
 2023-01-21 12:59:40.438 +01:00 [] Executing endpoint 'tutorial.presentation.Controllers.EmployessController.PartiallyUpdateEmployeeForCompany (tutorial.presentation)'
 2023-01-21 12:59:40.482 +01:00 [] Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObject.EmployeeForUpdateDto]) on controller tutorial.presentation.Controllers.EmployessController (tutorial.presentation).
 2023-01-21 12:59:57.601 +01:00 [] Now listening on: https://localhost:7087
 2023-01-21 12:59:57.631 +01:00 [] Now listening on: http://localhost:5291
 2023-01-21 12:59:57.633 +01:00 [] Application started. Press Ctrl+C to shut down.
 2023-01-21 12:59:57.634 +01:00 [] Hosting environment: Development
 2023-01-21 12:59:57.634 +01:00 [] Content root path: C:\Users\DELL\OneDrive\Desktop\ApiProjects\Tutorial\tutorialAPI\tutorialAPI
 2023-01-21 12:59:58.596 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/index.html - -
 2023-01-21 12:59:58.936 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/index.html - - - 200 - text/html;charset=utf-8 341.0156ms
 2023-01-21 12:59:58.962 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/_framework/aspnetcore-browser-refresh.js - -
 2023-01-21 12:59:58.968 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.2167ms
 2023-01-21 12:59:59.102 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/_vs/browserLink - -
 2023-01-21 12:59:59.223 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 120.3974ms
 2023-01-21 12:59:59.475 +01:00 [] Request starting HTTP/2 GET https://localhost:7087/swagger/v1/swagger.json - -
 2023-01-21 12:59:59.724 +01:00 [] Request finished HTTP/2 GET https://localhost:7087/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.4263ms
 2023-01-21 13:00:18.730 +01:00 [] Request starting HTTP/1.1 GET https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/8F5C08C5-B8C2-4002-6A89-08DAF0F204A2 - -
 2023-01-21 13:00:18.737 +01:00 [] Executing endpoint 'tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation)'
 2023-01-21 13:00:18.795 +01:00 [] Route matched with {action = "GetEmployee", controller = "Employess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(System.Guid, System.Guid) on controller tutorial.presentation.Controllers.EmployessController (tutorial.presentation).
 2023-01-21 13:00:20.079 +01:00 [] Entity Framework Core 6.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
 2023-01-21 13:00:21.531 +01:00 [] Executed DbCommand (61ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
 2023-01-21 13:00:21.584 +01:00 [] Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE ([e].[CompanyId] = @__companyId_0) AND ([e].[EmployeeId] = @__id_1)
 2023-01-21 13:00:21.736 +01:00 [] Executed action tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation) in 2937.4565ms
 2023-01-21 13:00:21.738 +01:00 [] Executed endpoint 'tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation)'
 2023-01-21 13:00:21.746 +01:00 [] An unhandled exception has occurred while executing the request.
tutorial.Entities.Exceptions.EmployeeNotFoundException: Employee with id 8f5c08c5-b8c2-4002-6a89-08daf0f204a2 doesn't exist in the database
   at Services.EmployeeService.GetEmployee(Guid companyId, Guid id, Boolean trackChanges) in C:\Users\DELL\OneDrive\Desktop\ApiProjects\Tutorial\tutorialAPI\Services\EmployeeService.cs:line 69
   at tutorial.presentation.Controllers.EmployessController.GetEmployee(Guid companyId, Guid id) in C:\Users\DELL\OneDrive\Desktop\ApiProjects\Tutorial\tutorialAPI\tutorial.presentation\Controllers\EmployessController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
 2023-01-21 13:00:21.818 +01:00 [] Something went wrong: tutorial.Entities.Exceptions.EmployeeNotFoundException: Employee with id 8f5c08c5-b8c2-4002-6a89-08daf0f204a2 doesn't exist in the database
   at Services.EmployeeService.GetEmployee(Guid companyId, Guid id, Boolean trackChanges) in C:\Users\DELL\OneDrive\Desktop\ApiProjects\Tutorial\tutorialAPI\Services\EmployeeService.cs:line 69
   at tutorial.presentation.Controllers.EmployessController.GetEmployee(Guid companyId, Guid id) in C:\Users\DELL\OneDrive\Desktop\ApiProjects\Tutorial\tutorialAPI\tutorial.presentation\Controllers\EmployessController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
 2023-01-21 13:00:21.831 +01:00 [] Request finished HTTP/1.1 GET https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/8F5C08C5-B8C2-4002-6A89-08DAF0F204A2 - - - 404 - application/json 3100.5204ms
 2023-01-21 13:03:14.730 +01:00 [] Request starting HTTP/1.1 GET https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - -
 2023-01-21 13:03:14.732 +01:00 [] Executing endpoint 'tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation)'
 2023-01-21 13:03:14.734 +01:00 [] Route matched with {action = "GetEmployee", controller = "Employess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(System.Guid, System.Guid) on controller tutorial.presentation.Controllers.EmployessController (tutorial.presentation).
 2023-01-21 13:03:14.838 +01:00 [] Entity Framework Core 6.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
 2023-01-21 13:03:14.845 +01:00 [] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
 2023-01-21 13:03:14.848 +01:00 [] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE ([e].[CompanyId] = @__companyId_0) AND ([e].[EmployeeId] = @__id_1)
 2023-01-21 13:03:14.868 +01:00 [] Executing OkObjectResult, writing value of type 'Shared.DataTransferObject.EmployeeDto'.
 2023-01-21 13:03:14.880 +01:00 [] Executed action tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation) in 146.411ms
 2023-01-21 13:03:14.881 +01:00 [] Executed endpoint 'tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation)'
 2023-01-21 13:03:14.881 +01:00 [] Request finished HTTP/1.1 GET https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - - 200 - application/json;+charset=utf-8 150.6867ms
 2023-01-21 16:25:58.075 +01:00 [] Request starting HTTP/1.1 GET https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - -
 2023-01-21 16:25:58.080 +01:00 [] Executing endpoint 'tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation)'
 2023-01-21 16:25:58.082 +01:00 [] Route matched with {action = "GetEmployee", controller = "Employess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployee(System.Guid, System.Guid) on controller tutorial.presentation.Controllers.EmployessController (tutorial.presentation).
 2023-01-21 16:25:58.100 +01:00 [] Entity Framework Core 6.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
 2023-01-21 16:25:58.124 +01:00 [] Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
 2023-01-21 16:25:58.128 +01:00 [] Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE ([e].[CompanyId] = @__companyId_0) AND ([e].[EmployeeId] = @__id_1)
 2023-01-21 16:25:58.129 +01:00 [] Executing OkObjectResult, writing value of type 'Shared.DataTransferObject.EmployeeDto'.
 2023-01-21 16:25:58.130 +01:00 [] Executed action tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation) in 48.0167ms
 2023-01-21 16:25:58.130 +01:00 [] Executed endpoint 'tutorial.presentation.Controllers.EmployessController.GetEmployee (tutorial.presentation)'
 2023-01-21 16:25:58.130 +01:00 [] Request finished HTTP/1.1 GET https://localhost:7087/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - - 200 - application/json;+charset=utf-8 55.0484ms
 2023-01-21 16:26:06.187 +01:00 [] Request starting HTTP/1.1 GET https://localhost:7087/api/companies/collection/C9D4C053-49B6-410C-BC78-2D54A9991870,1505C17F-BFFE-4BAE-AE59-08DAF0F7D3D6 - -
 2023-01-21 16:26:06.188 +01:00 [] Executing endpoint 'tutorial.presentation.Controllers.CompaniesController.GetCompanyCollection (tutorial.presentation)'
 2023-01-21 16:26:06.192 +01:00 [] Route matched with {action = "GetCompanyCollection", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCompanyCollection(System.Collections.Generic.IEnumerable`1[System.Guid]) on controller tutorial.presentation.Controllers.CompaniesController (tutorial.presentation).
 2023-01-21 16:26:06.210 +01:00 [] Entity Framework Core 6.0.9 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
 2023-01-21 16:26:06.277 +01:00 [] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] IN ('c9d4c053-49b6-410c-bc78-2d54a9991870', '1505c17f-bffe-4bae-ae59-08daf0f7d3d6')
 2023-01-21 16:26:06.290 +01:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.DataTransferObject.CompanyDto, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 2023-01-21 16:26:06.292 +01:00 [] Executed action tutorial.presentation.Controllers.CompaniesController.GetCompanyCollection (tutorial.presentation) in 99.7109ms
 2023-01-21 16:26:06.292 +01:00 [] Executed endpoint 'tutorial.presentation.Controllers.CompaniesController.GetCompanyCollection (tutorial.presentation)'
 2023-01-21 16:26:06.293 +01:00 [] Request finished HTTP/1.1 GET https://localhost:7087/api/companies/collection/C9D4C053-49B6-410C-BC78-2D54A9991870,1505C17F-BFFE-4BAE-AE59-08DAF0F7D3D6 - - - 200 - application/json;+charset=utf-8 105.2026ms
